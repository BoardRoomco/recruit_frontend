import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from "react/jsx-runtime";
import { BrowserRouter as Router, Routes, Route, Navigate } from "react-router-dom";
import { AuthProvider, useAuth } from "./context/AuthContext";
import Navigation from "./components/Navigation";
import Login from "./pages/auth/login";
import Register from "./pages/auth/register";
import JobList from "./pages/jobs/list";
import JobDetail from "./pages/jobs/detail";
import Dashboard from "./pages/dashboard/dashboard";
import CreateJob from "./pages/dashboard/create";
import JobApplicants from "./pages/dashboard/jobDetail";
import EditJob from "./pages/dashboard/edit";
import CandidateProfile from "./pages/candidate/profile";
import CandidateApps from "./pages/candidate/applications";
// Protected Route Component
const ProtectedRoute = ({ children, allowedRoles }) => {
    const { isAuthenticated, user, isLoading } = useAuth();
    if (isLoading) {
        return _jsx("div", { className: "min-h-screen flex items-center justify-center", children: "Loading..." });
    }
    if (!isAuthenticated) {
        return _jsx(Navigate, { to: "/login", replace: true });
    }
    if (allowedRoles && user && !allowedRoles.includes(user.role)) {
        return _jsx(Navigate, { to: "/", replace: true });
    }
    return _jsx(_Fragment, { children: children });
};
// Home Page Component
const HomePage = () => {
    const { isAuthenticated, user } = useAuth();
    return (_jsx("div", { className: "min-h-screen bg-gray-50", children: _jsxs("div", { className: "max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8", children: [_jsxs("div", { className: "text-center", children: [_jsxs("h1", { className: "text-4xl font-extrabold text-gray-900 sm:text-5xl md:text-6xl", children: ["Welcome to ", _jsx("span", { className: "text-indigo-600", children: "RecruitHub" })] }), _jsx("p", { className: "mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl", children: "Connect talented candidates with amazing opportunities. Find your next career move or hire the perfect candidate." }), !isAuthenticated ? (_jsxs("div", { className: "mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8", children: [_jsx("div", { className: "rounded-md shadow", children: _jsx("a", { href: "/jobs", className: "w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10", children: "Browse Jobs" }) }), _jsx("div", { className: "mt-3 rounded-md shadow sm:mt-0 sm:ml-3", children: _jsx("a", { href: "/register", className: "w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-gray-50 md:py-4 md:text-lg md:px-10", children: "Get Started" }) })] })) : (_jsx("div", { className: "mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8", children: (user === null || user === void 0 ? void 0 : user.role) === 'employer' ? (_jsx("div", { className: "rounded-md shadow", children: _jsx("a", { href: "/dashboard", className: "w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10", children: "Go to Dashboard" }) })) : (_jsx("div", { className: "rounded-md shadow", children: _jsx("a", { href: "/jobs", className: "w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10", children: "Browse Jobs" }) })) }))] }), _jsx("div", { className: "mt-20", children: _jsxs("div", { className: "grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3", children: [_jsx("div", { className: "pt-6", children: _jsx("div", { className: "flow-root bg-white rounded-lg px-6 pb-8", children: _jsxs("div", { className: "-mt-6", children: [_jsx("div", { children: _jsx("span", { className: "inline-flex items-center justify-center p-3 bg-indigo-500 rounded-md shadow-lg", children: _jsx("svg", { className: "h-6 w-6 text-white", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6" }) }) }) }), _jsx("h3", { className: "mt-8 text-lg font-medium text-gray-900 tracking-tight", children: "For Job Seekers" }), _jsx("p", { className: "mt-5 text-base text-gray-500", children: "Find your dream job from thousands of opportunities. Apply with ease and track your applications." })] }) }) }), _jsx("div", { className: "pt-6", children: _jsx("div", { className: "flow-root bg-white rounded-lg px-6 pb-8", children: _jsxs("div", { className: "-mt-6", children: [_jsx("div", { children: _jsx("span", { className: "inline-flex items-center justify-center p-3 bg-indigo-500 rounded-md shadow-lg", children: _jsx("svg", { className: "h-6 w-6 text-white", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" }) }) }) }), _jsx("h3", { className: "mt-8 text-lg font-medium text-gray-900 tracking-tight", children: "For Employers" }), _jsx("p", { className: "mt-5 text-base text-gray-500", children: "Post job openings, review applications, and find the perfect candidates for your team." })] }) }) }), _jsx("div", { className: "pt-6", children: _jsx("div", { className: "flow-root bg-white rounded-lg px-6 pb-8", children: _jsxs("div", { className: "-mt-6", children: [_jsx("div", { children: _jsx("span", { className: "inline-flex items-center justify-center p-3 bg-indigo-500 rounded-md shadow-lg", children: _jsx("svg", { className: "h-6 w-6 text-white", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M13 10V3L4 14h7v7l9-11h-7z" }) }) }) }), _jsx("h3", { className: "mt-8 text-lg font-medium text-gray-900 tracking-tight", children: "Fast & Efficient" }), _jsx("p", { className: "mt-5 text-base text-gray-500", children: "Streamlined application process with real-time updates and instant notifications." })] }) }) })] }) })] }) }));
};
function App() {
    return (_jsx(AuthProvider, { children: _jsx(Router, { children: _jsxs("div", { className: "min-h-screen bg-gray-50", children: [_jsx(Navigation, {}), _jsxs(Routes, { children: [_jsx(Route, { path: "/", element: _jsx(HomePage, {}) }), _jsx(Route, { path: "/login", element: _jsx(Login, {}) }), _jsx(Route, { path: "/register", element: _jsx(Register, {}) }), _jsx(Route, { path: "/jobs", element: _jsx(JobList, {}) }), _jsx(Route, { path: "/jobs/:id", element: _jsx(JobDetail, {}) }), _jsx(Route, { path: "/candidate/profile", element: _jsx(ProtectedRoute, { allowedRoles: ['candidate'], children: _jsx(CandidateProfile, {}) }) }), _jsx(Route, { path: "/candidate/applications", element: _jsx(ProtectedRoute, { allowedRoles: ['candidate'], children: _jsx(CandidateApps, {}) }) }), _jsx(Route, { path: "/dashboard", element: _jsx(ProtectedRoute, { allowedRoles: ['employer'], children: _jsx(Dashboard, {}) }) }), _jsx(Route, { path: "/dashboard/create", element: _jsx(ProtectedRoute, { allowedRoles: ['employer'], children: _jsx(CreateJob, {}) }) }), _jsx(Route, { path: "/dashboard/jobs/:id", element: _jsx(ProtectedRoute, { allowedRoles: ['employer'], children: _jsx(JobApplicants, {}) }) }), _jsx(Route, { path: "/dashboard/jobs/:id/edit", element: _jsx(ProtectedRoute, { allowedRoles: ['employer'], children: _jsx(EditJob, {}) }) }), _jsx(Route, { path: "*", element: _jsx("div", { className: "min-h-screen flex items-center justify-center", children: _jsx("h1", { className: "text-2xl", children: "404 - Page Not Found" }) }) })] })] }) }) }));
}
export default App;
